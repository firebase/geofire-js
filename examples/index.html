<!DOCTYPE html>
<html>
  <head>
    <title>GeoFire Examples</title>
    <style>
      .code {
        white-space: pre;
        font-family: monospace;
      }
    </style>
  </head>

  <body style="width: 800px; margin: auto;">
    <h1 style="text-align: center;">GeoFire Examples</h1>

    <p>
      <a href="https://www.github.com/firebase/geofire/">GeoFire</a> is a set of open-source libraries
      for JavaScript, Objective-C, and Java that allow you to store and query a set of keys based on
      their geographic location. At its heart, GeoFire simply stores locations with string keys. Its
      main benefit, however, is the possibility of retrieving only those keys within a given geographic
      area - all in realtime.
    </p>

    <p>
      GeoFire uses the <a href="https://firebase.google.com/docs/database/">Firebase Realtime Database</a>
      for data storage, allowing query results to be updated in realtime as they change. GeoFire
      <strong>selectively loads only the data near certain locations, keeping your applications light
      and responsive</strong>, even with extremely large datasets.
    </p>

    <p>
      There are compatible GeoFire clients available for <a href="https://github.com/firebase/geofire-js">JavaScript</a>,
      <a href="https://github.com/firebase/geofire-objc">Objective-C</a>, and
      <a href="https://github.com/firebase/geofire-java">Java</a>.
    </p>

    <p>
      Note that the demos below are all written in JavaScript. You can find Objective-C and
      Java examples in their respective GitHub repositories.
    </p>

    <h2><a href="./fish1/index.html">fish1 - Writing To and Reading From GeoFire</a></h2>

    <p>
      This is a very basic example which shows you how to read from and write to GeoFire
      and how to handle the promises returned by the <span class="code">set()</span>,
      <span class="code">get()</span>, and <span class="code">remove()</span> methods.
    </p>

    <p>You can check out a live demo of this example <a href="./fish1/index.html">here</a>.</p>

    <h2><a href="./fish2/index.html">fish2 - Using a GeoQuery</a></h2>

    <p>
      This is a more complex example which shows you how to create a GeoQuery and
      respond to keys moving into, out of, and within the query. It also shows how
      to cancel event callback registrations.
    </p>

    <p>You can check out a live demo of this example <a href="./fish2/index.html">here</a>.</p>

    <h2><a href="./fish3/index.html">fish3 - Loading Initial Data</a></h2>

    <p>
      This example shows you how to achieve a common use case: loading only initial
      data. This is accomplished in GeoFire by canceling a GeoQuery once its "ready"
      event has fired.
    </p>

    <p>You can check out a live demo of this example <a href="./fish3/index.html">here</a>.</p>

    <h2><a href="./html5Geolocation/index.html">html5Geolocation - HTML5 Geolocation API</a></h2>

    <p>
      The <a href="http://diveintohtml5.info/geolocation.html">HTML5 Geolocation API</a> allows you
      to get the current location of the person who is viewing your site. This demo shows
      how to use it to add their location to GeoFire. In addition, the examples uses
      Firebase's <span class="code">onDisconnect()</span> method to remove their location from GeoFire when they
      leave the page (or close the app).
    </p>

    <p>You can check out a live demo of this example <a href="./html5Geolocation/index.html">here</a>.</p>

    <h2><a href="./queryBuilder/index.html">queryBuilder - Build a Custom GeoQuery</a></h2>

    <p>
      This demo allows you to build custom <span class="code">GeoQuery</span> objects and see when
      fish enter and leave the query as it gets updated. Thanks to
      <a href="https://github.com/stefek99">@stefek99</a> for the contribution!
    </p>

    <p>You can check out a live demo of this example <a href="./queryBuilder/index.html">here</a>.</p>

    <h2><a href="./securityRules/">securityRules - Security Rules</a></h2>

    <p>
      It is important to protect your data with
      <a href="https://www.firebase.com/docs/security/">Firebase and Security Rules</a>. This
      example contains several different versions of rules for your GeoFire index. All of the
      following rules enforce the schema of your index, but allow varying types of updates to it.
    </p>

    <ul>
      <li>
        <b><a href="./securityRules/rules.json">Default rules</a></b> -
        These rules allow any client to add, update, or remove items from your index. This does not
        prevent a malicious user from overwriting your index.
      </li>

      <li>
        <b><a href="./securityRules/authenticated.rules.json">Authenticated rules</a></b> -
        These rules require that only authenticated clients can update your index. Note that these
        rules will intentionally cause all <span class="code">GeoFire.add()</span> and
        <span class="code">GeoFire.remove()</span> calls to fail for unauthenticated clients.
      </li>

      <li>
        <b><a href="./securityRules/noDeletes.rules.json">No deletes rules</a></b> -
        These rules prevent clients from being able to delete any existing keys in your index. Note
        that these rules will intentionally cause all <span class="code">GeoFire.remove()</span>
        calls to fail.
      </li>

      <li>
        <b><a href="./securityRules/noUpdates.rules.json">No updates rules</a></b> -
        These rules prevent clients from being able to update or delete any existing keys in your
        index. Note that these rules will intentionally fail all <span class="code">GeoFire.remove()</span>
        calls as well as any <span class="code">GeoFire.add()</span> calls for existing keys in the index.
      </li>
    </ul>

    <p>
      You can further replace the <span class="code">".write"</span> rule in the example rules files
      with some custom logic to restrict who and how users can write to your GeoFire index.
    </p>

    <p>
      All of the example rules ensure that one client cannot overwrite your entire GeoFire index
      node with a single call. However, none of them prevent a malicious user from scraping your
      entire index. You can replace the <span class="code">".read"</span> rule in the example rules
      files with some custom logic to do this.
    </p>
  </body>
</html>
